<tr data-booking-id="<%= booking.id %>">
    <td><%= booking.name %></td>
    <td><%= booking.event&.title || "N/A" %></td>
    <td>
        <%# Booking status badge %>
        <% if booking.status == "confirmed" %>
        <span class="badge badge-success"><i class="fas fa-check mr-1"></i>Confirmed</span>
        <% elsif booking.status == "pending" %>
        <span class="badge badge-warning"><i class="fas fa-hourglass-half mr-1"></i>Pending</span>
        <% elsif booking.status == "cancelled" %>
        <span class="badge badge-danger"><i class="fas fa-times mr-1"></i>Cancelled</span>
        <% else %>
        <span class="badge badge-secondary">Unknown</span>
        <% end %>
        <%# Payment status badge %>
        <% if booking.payment&.status == "completed" %>
        <span class="badge badge-primary ml-2"><i class="fas fa-money-bill-wave mr-1"></i>Paid</span>
        <% else %>
        <span class="badge badge-secondary ml-2"><i class="fas fa-money-bill-wave mr-1"></i>Unpaid</span>
        <% end %>
    </td>
    <td>
        <%= link_to booking_path(booking), class: "btn btn-info btn-sm", title: "Show" do %>
        <i class="fas fa-eye"></i>
        <span class="ml-1 d-none d-md-inline">Show</span>
        <% end %>
        <% if booking.status == "pending" && (!booking.payment || booking.payment.status != "completed") %>
        <%= link_to new_booking_payment_path(booking), class: "btn btn-success btn-sm", title: "Complete Payment" do %>
            <i class="fas fa-credit-card"></i>
            <span class="ml-1 d-none d-md-inline">Pay</span>
        <% end %>
        <% end %>
        <% if booking.status == "pending" %>
        <%= link_to booking_path(booking), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger btn-sm", title: "Cancel" do %>
            <i class="fas fa-times"></i>
            <span class="ml-1 d-none d-md-inline">Cancel</span>
        <% end %>
        <% end %>
    </td>
</tr>