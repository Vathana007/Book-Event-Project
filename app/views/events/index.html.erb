<h1 class="text-3xl ">Events</h1>
<div class="overflow-x-auto rounded-lg shadow-lg">
  <table class="min-w-full bg-white border border-gray-200">
    <thead class="bg-blue-100">
      <tr>
        <th class="py-3 px-4 border-b text-left text-sm text-gray-600">Title</th>
        <th class="py-3 px-4 border-b text-left text-sm text-gray-600">Location</th>
        <th class="py-3 px-4 border-b text-left text-sm text-gray-600">Price</th>
        <th class="py-3 px-4 border-b text-left text-sm text-gray-600">Date</th>
        <th class="py-3 px-4 border-b text-left text-sm text-gray-600">Actions</th>
      </tr>
    </thead>
    <%= form_with url: request.path, method: :get, local: true, class: "mb-4" do %>
        <div class="flex">
            <%= text_field_tag :q, params[:q], placeholder: "Search by ID or Name...", class: "border rounded-l px-4 py-2 w-full" %>
            <%= submit_tag "Search", class: "bg-blue-600 text-white px-4 py-2 rounded-r" %>
        </div>
    <% end %>
    <tbody>
      <% @events.each do |event| %>
        <tr>
          <td class="py-3 px-4 border-b text-sm"><%= event.title %></td>
          <td class="py-3 px-4 border-b text-sm"><%= event.location %></td>
          <td class="py-3 px-4 border-b text-sm"><%= number_to_currency(event.price) %></td>
          <td class="py-3 px-4 border-b text-sm"><%= event.start_time.strftime("%Y-%m-%d %H:%M") %></td>
          <td class="py-3 px-4 border-b text-sm">
            <%= link_to 'Booking', new_event_booking_path(event), class: "text-green-600 hover:underline" %>
            <%= link_to 'Show', event_path(event), class: "text-blue-600 hover:underline" %>
            <%= link_to 'Edit', edit_event_path(event), class: "text-yellow-600 hover:underline ml-2" %>
            <%= link_to 'Delete', event_path(event), data: { turbo_method: :delete, turbo_confirm: 'Are you sure?'}, class: "text-red-600 hover:underline" %>

            <%= link_to "Manage Ticket Types", event_ticket_types_path(event), class: "text-purple-600 hover:underline ml-2" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
<div class="mt-6">
  <%= link_to 'New Event', new_event_path, class: "inline-block bg-blue-600 text-white px-4 py-2 rounded-lg transition duration-200 hover:bg-blue-700 shadow" %>
</div>