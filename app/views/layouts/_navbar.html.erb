<nav class="main-header navbar navbar-expand navbar-white navbar-light">
  <!-- Left navbar links -->
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
    </li>
    <li class="nav-item d-none d-sm-inline-block">
      <%= link_to "Home", root_path, class: "nav-link" %>
    </li>
  </ul>

  <!-- Right navbar links -->
  <ul class="navbar-nav ml-auto">
    <% if Current.user %>
      <li class="nav-item dropdown">
        <a class="nav-link d-flex align-items-center" data-toggle="dropdown" href="#" role="button">
          <i class="far fa-user-circle fa-lg mr-1"></i>
          <span class="d-none d-md-inline"><%= Current.user.name.presence || Current.user.email_address %></span>
          <i class="fas fa-caret-down ml-1"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right p-0">
          <div class="dropdown-header bg-primary text-white text-center py-3">
            <i class="far fa-user-circle fa-2x mb-2"></i>
            <div><strong><%= Current.user.name.presence || "User" %></strong></div>
            <small><%= Current.user.email_address %></small>
          </div>
          <div class="dropdown-divider m-0"></div>
          <% if Current.user.role == "admin" %>
            <%= link_to "Profile", edit_user_path(Current.user), class: "dropdown-item" %>
            <%= link_to "My Bookings", bookings_path(q: Current.user.email_address), class: "dropdown-item" %>
          <% elsif Current.user.role == "customer" %>
            <%= link_to "My Bookings", customer_bookings_path, class: "dropdown-item" %>
          <% end %>
          <div class="dropdown-divider m-0"></div>
          <%= button_to "Logout", session_path, method: :delete, class: "dropdown-item text-danger", data: { turbo_confirm: "Are you sure you want to log out?" }, form: { class: "m-0 p-0 border-0 bg-transparent" } %>
        </div>
      </li>
    <% else %>
      <li class="nav-item">
        <%= link_to "Login", new_session_path, class: "nav-link" %>
      </li>
    <% end %>
  </ul>
</nav>